<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-DDL ê¸€ì“°ê¸°</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jua&family=Nunito:wght@600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Nunito', Arial, sans-serif; margin: 20px; background: linear-gradient(160deg, #f5ede5 0%, #ede0d4 50%, #e8d9cc 100%); min-height: 100vh; }
        .container { max-width: 1000px; margin: auto; padding: 24px; border: 1px solid #c5d4e8; border-radius: 16px; background: rgba(255,255,255,0.85); box-shadow: 0 4px 20px rgba(0,0,0,0.06); display: flex; flex-direction: column; gap: 20px; }
        .memo-row { display: flex; gap: 16px; align-items: stretch; margin-top: 1.5em; }
        .memo-col { flex: 1; display: flex; flex-direction: column; min-width: 0; }
        .memo-col label { margin-bottom: 8px; }
        .memo-box { flex: 1; min-height: 200px; font-size: 1.1em; padding: 14px; border-radius: 12px; border: 1px solid #d4c4a0; background-color: #fff9c4; box-sizing: border-box; }
        textarea.memo-box { resize: vertical; font-family: inherit; }
        .button-row { display: flex; justify-content: center; margin: 12px 0; }
        .button-row button { margin: 0; }
        .feedback-section { width: 100%; margin-top: 24px; }
        .feedback-split { display: flex; gap: 20px; align-items: stretch; margin-top: 12px; }
        .feedback-left { flex: 1; min-width: 0; }
        .feedback-right { flex: 1; min-width: 0; min-height: 180px; padding: 16px; border-radius: 12px; border: 1px solid #e0d8f0; background: linear-gradient(135deg, #faf5ff 0%, #f0f4ff 100%); }
        .feedback-right-empty { color: #888; font-style: italic; }
        .feedback-sentence { margin-bottom: 12px; line-height: 1.6; }
        .feedback-error-span { font-weight: bold; color: #e65100; background-color: rgba(230,81,0,0.15); padding: 0 2px; border-radius: 4px; cursor: pointer; }
        .feedback-error-span:hover { background-color: rgba(230,81,0,0.25); }
        .feedback-error-span-selected { background-color: rgba(92,107,192,0.3) !important; color: #3949ab; box-shadow: 0 0 0 2px #5c6bc0; }
        .feedback-right .stage-question { margin-bottom: 12px; font-size: 1.05em; }
        .feedback-right .stage-example { margin: 12px 0; padding: 10px; background: #fff; border-radius: 8px; border: 1px solid #e0e0e0; }
        .feedback-right .stage-cause { margin: 10px 0; padding: 10px; background: #fff8e1; border-radius: 8px; border-left: 4px solid #ffa000; font-size: 0.95em; color: #5d4037; }
        .example-highlight { font-weight: 800; background: linear-gradient(180deg, #e0e0e0 0%, #bdbdbd 100%); color: #000; padding: 1px 4px; border-radius: 4px; }
        .feedback-right .stage-correction { margin: 12px 0; padding: 10px; background: #e8f5e9; border-radius: 8px; font-weight: bold; }
        .feedback-btn { margin-top: 8px; padding: 8px 16px; border-radius: 8px; border: 1px solid #5c6bc0; background: #5c6bc0; color: white; cursor: pointer; font-size: 0.95rem; }
        .feedback-btn:hover { background: #4a56a8; }
        .feedback-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .page-title { font-family: 'Jua', sans-serif; font-size: 2rem; color: #2c3e6b; text-align: center; margin-bottom: 0; }
        .page-tagline { text-align: center; font-size: 0.95rem; color: #5a6b8a; margin: 0.2em 0 1em 0; }
        .section-title { font-family: 'Jua', sans-serif; font-size: 1.3rem; font-weight: normal; color: #2c3e6b; margin: 0 0 8px 0; }
        label { display: block; margin-top: 10px; font-weight: bold; }
        button { background: linear-gradient(180deg, #5c6bc0 0%, #4a56a8 100%); color: white; padding: 12px 20px; border: none; border-radius: 12px; cursor: pointer; font-family: 'Nunito', sans-serif; font-weight: 700; font-size: 1rem; box-shadow: 0 2px 8px rgba(92,107,192,0.3); }
        button:hover { background: linear-gradient(180deg, #6c7bd0 0%, #5a66b8 100%); box-shadow: 0 3px 12px rgba(92,107,192,0.4); }
        button:disabled { opacity: 0.8; cursor: not-allowed; }
        .feedback-disclaimer { margin: 10px 0 0 0; font-size: 13px; color: #777; }
        .ai-generated { color: #2563eb; }
        .top-banner { display: inline-flex; align-items: center; gap: 8px; width: fit-content; margin-bottom: 12px; padding: 8px 14px; background: linear-gradient(135deg, #5c6bc0 0%, #4a56a8 100%); color: white; text-decoration: none; font-family: 'Jua', sans-serif; font-size: 1.2rem; border-radius: 0 0 12px 0; box-shadow: 0 2px 10px rgba(92,107,192,0.35); }
        .top-banner:hover { background: linear-gradient(135deg, #6c7bd0 0%, #5a66b8 100%); color: white; }
        .topic-row { display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 8px; }
        .topic-row .section-title { margin: 0; }
        .topic-btn { padding: 8px 14px; font-size: 0.9rem; }
        .topic-display { min-height: 24px; margin-bottom: 8px; font-size: 0.95rem; color: #5a6b8a; }
        .topic-display:not(:empty)::before { content: 'ì˜¤ëŠ˜ì˜ ì£¼ì œ: '; font-weight: 600; color: #2c3e6b; }
        .scribble-hints { margin: 12px 0 0 0; font-size: 0.9rem; color: #5a6b8a; line-height: 1.6; }
    </style>
</head>
<body>
    <a class="top-banner" href="https://ai-ddl.onrender.com/" target="_blank" rel="noopener noreferrer">ğŸ•µï¸ AI-DDL</a>
    <div class="container">
        <h1 class="page-title">ğŸ” AI-DDL ê¸€ì“°ê¸°</h1>
        <p class="page-tagline">ì˜ì–´ ë‹¨ì„œë¥¼ ì°¾ê³ , ë¬¸ì¥ì„ íƒì •ì²˜ëŸ¼ ê³ ì³ë³´ì„¸ìš”!</p>

        <form id="feedbackForm">
            <div class="memo-row">
                <div class="memo-col">
                    <div class="topic-row">
                        <label for="writing" class="section-title">âœï¸ ë„ì ë„ì </label>
                        <button type="button" id="randomTopicBtn" class="topic-btn">ğŸ² ëœë¤ ì£¼ì œ</button>
                    </div>
                    <p class="scribble-hints">
                        ğŸ“– êµê³¼ì„œ ëŒ€í™”ë¬¸ì„ ì°¸ê³ í•´ì„œ ê¸€ì„ ì¨ë³´ì•„ìš”.<br>
                        ğŸ² ëœë¤ ì£¼ì œ ë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ ê¸€ì„ ì“¸ ìˆ˜ë„ ìˆì–´ìš”.
                    </p>
                    <div id="topic-display" class="topic-display"></div>
                    <textarea id="writing" class="memo-box" placeholder="ì—¬ê¸°ì— ê¸€ì„ ì¨ ë³´ì„¸ìš”!" required></textarea>
                </div>
                <div class="memo-col">
                    <div class="topic-row">
                        <label for="rewrite" class="section-title">âœ’ï¸ ê³ ì³ì“°ê¸°</label>
                        <button type="button" id="saveRewriteTxtBtn" class="topic-btn">ğŸ“„ txtë¡œ ì €ì¥</button>
                    </div>
                    <textarea id="rewrite" class="memo-box" placeholder="í”¼ë“œë°±ì„ ë³´ê³  ì—¬ê¸°ì— ê³ ì³ ì“°ì„¸ìš”!" aria-label="ê³ ì³ì“°ê¸°"></textarea>
                </div>
            </div>

            <div class="button-row">
                <button type="submit" id="feedbackSubmitBtn">ë‹¨ì„œ í™•ì¸í•˜ê¸°</button>
            </div>

            <div class="feedback-section">
                <h2 class="section-title">ğŸ‘©â€ğŸ« AI í”¼ë“œë°±</h2>
                <p style="margin: 0 0 8px 0; font-size: 14px; color: #555;">
                    ì˜¤ë¥˜ ë¶€ë¶„(ì£¼í™©ìƒ‰)ì„ í´ë¦­í•˜ë©´ ë‹¨ê³„ë³„ë¡œ íŒíŠ¸ë¥¼ ë³¼ ìˆ˜ ìˆì–´ìš”.
                </p>
                <div class="feedback-split">
                    <div class="feedback-left" id="feedback-left-output"></div>
                    <div class="feedback-right" id="feedback-right-output">
                        <span class="feedback-right-empty">ì˜¤ë¥˜ ë¶€ë¶„ì„ í´ë¦­í•´ ë³´ì„¸ìš”.</span>
                    </div>
                </div>
                <p class="feedback-disclaimer">âš ï¸ AIë„ ê°€ë” ì‹¤ìˆ˜ë¥¼ í•œë‹µë‹ˆë‹¤.</p>
                <p class="feedback-disclaimer"><span class="ai-generated">íŒŒë€ìƒ‰</span>ìœ¼ë¡œ ì“°ì—¬ì§„ ë¬¸ì¥ì€ AIê°€ ìƒì„±í•œ ë¬¸ì¥ì…ë‹ˆë‹¤.</p>
            </div>
        </form>
    </div>

    <script>
        document.getElementById('randomTopicBtn').addEventListener('click', async function () {
            var btn = this;
            var display = document.getElementById('topic-display');
            btn.disabled = true;
            btn.textContent = 'ìƒì„± ì¤‘...';
            display.textContent = '';
            try {
                var res = await fetch('/api/random-topic');
                var data = await res.json();
                if (res.ok && data.topic) {
                    display.textContent = data.topic;
                } else {
                    display.textContent = 'ì£¼ì œë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆì–´ìš”. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.';
                }
            } catch (e) {
                display.textContent = 'ì£¼ì œë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆì–´ìš”.';
            }
            btn.disabled = false;
            btn.textContent = 'ğŸ² ëœë¤ ì£¼ì œ';
        });

        document.getElementById('saveRewriteTxtBtn').addEventListener('click', function () {
            var text = document.getElementById('rewrite').value;
            var blob = new Blob([text], { type: 'text/plain;charset=utf-8' });
            var url = URL.createObjectURL(blob);
            var a = document.createElement('a');
            a.href = url;
            a.download = 'ê³ ì³ì“°ê¸°_' + new Date().toISOString().slice(0, 10) + '.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        });

        function escapeHtml(text) {
            if (text == null) return '';
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function escapeAttr(text) {
            if (text == null) return '';
            return String(text)
                .replace(/&/g, '&amp;')
                .replace(/"/g, '&quot;')
                .replace(/'/g, '&#39;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;');
        }

        function formatExampleWithBold(text) {
            if (text == null || text === '') return '';
            var result = '';
            var re = /\*\*(.+?)\*\*/g;
            var lastIndex = 0;
            var match;
            while ((match = re.exec(text)) !== null) {
                result += escapeHtml(text.slice(lastIndex, match.index));
                result += '<span class="example-highlight">' + escapeHtml(match[1]) + '</span>';
                lastIndex = re.lastIndex;
            }
            result += escapeHtml(text.slice(lastIndex));
            return result;
        }

        function buildLeftHtml(originalText, errorList) {
            if (!originalText) return '';
            if (!errorList || errorList.length === 0) return escapeHtml(originalText).replace(/\n/g, '<br>');

            var text = originalText;
            if (typeof text.normalize === 'function') text = text.normalize('NFC');

            var errorsByPos = [];
            for (var i = 0; i < errorList.length; i++) {
                var err = errorList[i];
                var span = (err.error_span || '').trim();
                if (!span) continue;
                if (typeof span.normalize === 'function') span = span.normalize('NFC');
                var idx = text.indexOf(span);
                if (idx !== -1) {
                    errorsByPos.push({ start: idx, end: idx + span.length, err: err, span: span });
                }
            }
            errorsByPos.sort(function (a, b) { return a.start - b.start; });

            var html = '';
            var lastEnd = 0;
            for (var j = 0; j < errorsByPos.length; j++) {
                var e = errorsByPos[j];
                html += escapeHtml(text.slice(lastEnd, e.start)).replace(/\n/g, '<br>');
                html += '<span class="feedback-error-span" data-error-id="' + escapeAttr(String(e.err.id)) + '">';
                html += escapeHtml(e.span);
                html += '</span>';
                lastEnd = e.end;
            }
            html += escapeHtml(text.slice(lastEnd)).replace(/\n/g, '<br>');
            return html;
        }

        function splitIntoSentences(text) {
            if (!text || !text.trim()) return [];
            var parts = text.trim().split(/([.!?])\s+/);
            var sentences = [];
            for (var i = 0; i < parts.length; i += 2) {
                var s = (parts[i] || '') + (parts[i + 1] || '');
                if (s.trim()) sentences.push(s.trim());
            }
            return sentences;
        }

        function findSpanInText(text, span) {
            if (!text || !span) return null;
            var idx = text.indexOf(span);
            if (idx !== -1) return { index: idx, span: span, length: span.length };
            if (typeof text.normalize === 'function' && typeof span.normalize === 'function') {
                var nText = text.normalize('NFC');
                var nSpan = span.normalize('NFC');
                idx = nText.indexOf(nSpan);
                if (idx !== -1) {
                    var displaySpan = text.slice(idx, idx + nSpan.length);
                    return { index: idx, span: displaySpan, length: displaySpan.length };
                }
            }
            return null;
        }

        function buildLeftHtmlFromOriginal(originalText, errorList) {
            if (!originalText || !errorList.length) return escapeHtml(originalText).replace(/\n/g, '<br>');
            var text = originalText;
            if (typeof text.normalize === 'function') text = text.normalize('NFC');
            var positions = [];
            for (var i = 0; i < errorList.length; i++) {
                var err = errorList[i];
                var span = (err.error_span || '').trim();
                if (!span) continue;
                var found = findSpanInText(text, span);
                if (found) positions.push({ start: found.index, end: found.index + found.length, err: err, span: found.span });
            }
            positions.sort(function (a, b) { return a.start - b.start; });
            var lastEnd = 0;
            var html = '';
            for (var j = 0; j < positions.length; j++) {
                var p = positions[j];
                if (p.start < lastEnd) continue;
                html += escapeHtml(text.slice(lastEnd, p.start)).replace(/\n/g, '<br>');
                html += '<span class="feedback-error-span" data-error-id="' + escapeAttr(String(p.err.id)) + '">' + escapeHtml(p.span) + '</span>';
                lastEnd = p.end;
            }
            html += escapeHtml(text.slice(lastEnd)).replace(/\n/g, '<br>');
            return html;
        }

        document.getElementById('feedbackForm').addEventListener('submit', async function (event) {
            event.preventDefault();
            var writing = document.getElementById('writing').value;
            var submitBtn = document.getElementById('feedbackSubmitBtn');
            var leftOutput = document.getElementById('feedback-left-output');
            var rightOutput = document.getElementById('feedback-right-output');

            leftOutput.innerHTML = '';
            rightOutput.innerHTML = '<span class="feedback-right-empty">ì˜¤ë¥˜ ë¶€ë¶„ì„ í´ë¦­í•´ ë³´ì„¸ìš”.</span>';
            submitBtn.textContent = 'ë‹¨ì„œ í™•ì¸ ì¤‘...';
            submitBtn.disabled = true;

            try {
                var response = await fetch('/feedback', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ writing: writing })
                });
                var result = await response.json();
                if (response.ok) {
                    var feedback = result.feedback;
                    var errorList = feedback.error_list || [];
                    var originalText = feedback.original_text || '';
                    var sentences = feedback.sentences || splitIntoSentences(originalText);

                    var leftHtml = '';
                    var hasAnyHighlight = false;
                    for (var i = 0; i < sentences.length; i++) {
                        var sent = sentences[i];
                        var sentErrors = errorList.filter(function (e) {
                            return findSpanInText(sent, (e.error_span || '').trim());
                        });
                        if (sentErrors.length > 0) {
                            var sentText = sent;
                            var errPositions = sentErrors.map(function (err) {
                                var span = (err.error_span || '').trim();
                                var found = findSpanInText(sentText, span);
                                return found ? { err: err, span: found.span, idx: found.index, length: found.length } : null;
                            }).filter(function (p) { return p && p.span; });
                            errPositions.sort(function (a, b) { return a.idx - b.idx; });
                            var lastEnd = 0;
                            var frag = '';
                            for (var k = 0; k < errPositions.length; k++) {
                                var p = errPositions[k];
                                frag += escapeHtml(sentText.slice(lastEnd, p.idx)).replace(/\n/g, '<br>');
                                frag += '<span class="feedback-error-span" data-error-id="' + escapeAttr(String(p.err.id)) + '">' + escapeHtml(p.span) + '</span>';
                                lastEnd = p.idx + p.length;
                                hasAnyHighlight = true;
                            }
                            frag += escapeHtml(sentText.slice(lastEnd)).replace(/\n/g, '<br>');
                            leftHtml += '<div class="feedback-sentence">' + frag + '</div>';
                        } else {
                            leftHtml += '<div class="feedback-sentence">' + escapeHtml(sent).replace(/\n/g, '<br>') + '</div>';
                        }
                    }
                    if (errorList.length > 0 && !hasAnyHighlight) {
                        var normText = (typeof originalText.normalize === 'function') ? originalText.normalize('NFC') : originalText;
                        var errPositions = [];
                        for (var ei = 0; ei < errorList.length; ei++) {
                            var err = errorList[ei];
                            var sp = (err.error_span || '').trim();
                            if (!sp) continue;
                            var found = findSpanInText(normText, sp);
                            if (found) errPositions.push({ start: found.index, end: found.index + found.length, err: err, span: found.span });
                        }
                        errPositions.sort(function (a, b) { return a.start - b.start; });
                        var sentStarts = [];
                        var pos = 0;
                        var re = /[.!?]\s+/g;
                        var match;
                        sentStarts.push(0);
                        while ((match = re.exec(normText)) !== null) {
                            pos = match.index + match[0].length;
                            sentStarts.push(pos);
                        }
                        var fallbackParts = [];
                        for (var fi = 0; fi < sentStarts.length; fi++) {
                            var sentStart = sentStarts[fi];
                            var sentEnd = fi + 1 < sentStarts.length ? sentStarts[fi + 1] : normText.length;
                            var sentText = normText.slice(sentStart, sentEnd);
                            if (!sentText.trim()) continue;
                            var inSent = [];
                            for (var pi = 0; pi < errPositions.length; pi++) {
                                var p = errPositions[pi];
                                if (p.start < sentEnd && p.end > sentStart) {
                                    inSent.push({ start: p.start - sentStart, end: p.end - sentStart, err: p.err, span: p.span });
                                }
                            }
                            var last = 0;
                            var frag = '';
                            for (var ki = 0; ki < inSent.length; ki++) {
                                var q = inSent[ki];
                                if (q.start < last) continue;
                                frag += escapeHtml(sentText.slice(last, q.start)).replace(/\n/g, '<br>');
                                frag += '<span class="feedback-error-span" data-error-id="' + escapeAttr(String(q.err.id)) + '">' + escapeHtml(q.span) + '</span>';
                                last = q.end;
                            }
                            frag += escapeHtml(sentText.slice(last)).replace(/\n/g, '<br>');
                            fallbackParts.push('<div class="feedback-sentence">' + frag + '</div>');
                        }
                        leftHtml = fallbackParts.length ? fallbackParts.join('') : '<div class="feedback-sentence">' + buildLeftHtmlFromOriginal(originalText, errorList) + '</div>';
                    }
                    if (!leftHtml && originalText) {
                        leftHtml = '<div class="feedback-sentence">' + escapeHtml(originalText).replace(/\n/g, '<br>') + '</div>';
                    }
                    leftOutput.innerHTML = leftHtml || escapeHtml(originalText).replace(/\n/g, '<br>');

                    var errorMap = {};
                    for (var m = 0; m < errorList.length; m++) {
                        errorMap[String(errorList[m].id)] = errorList[m];
                    }

                    leftOutput.querySelectorAll('.feedback-error-span').forEach(function (el) {
                        el.addEventListener('click', function () {
                            var errId = el.getAttribute('data-error-id');
                            var err = errorMap[errId];
                            if (!err) return;

                            leftOutput.querySelectorAll('.feedback-error-span').forEach(function (s) { s.classList.remove('feedback-error-span-selected'); });
                            el.classList.add('feedback-error-span-selected');

                            var state = { step: 2, exampleShown: false, correctionShown: false };
                            var question = err.question || 'ì´ ë¶€ë¶„ì„ ë‹¤ì‹œ í™•ì¸í•´ ë³´ì„¸ìš”.';
                            var questionSource = err.question_source || 'ai';
                            var exampleSentences = err.example_sentences || [];

                            function renderRight() {
                                var questionHtml = questionSource === 'ai'
                                    ? '<span class="ai-generated">' + escapeHtml(question) + '</span>'
                                    : escapeHtml(question);
                                var html = '<div class="stage-question">' + questionHtml + '</div>';
                                html += '<button type="button" class="feedback-btn" id="btn-example">ì˜ˆë¬¸ ë³´ê¸°</button>';
                                html += '<div id="example-area" style="display:none;"></div>';
                                html += '<button type="button" class="feedback-btn" id="btn-correction" style="display:none;">ì •ë‹µ ë³´ê¸°</button>';
                                html += '<div id="correction-area" style="display:none;"></div>';
                                rightOutput.innerHTML = html;

                                document.getElementById('btn-example').addEventListener('click', function () {
                                    var exampleParts = [];
                                    if (exampleSentences.length > 0) {
                                        for (var k = 0; k < exampleSentences.length; k++) {
                                            var item = exampleSentences[k];
                                            var t = (item && item.text) ? item.text : '';
                                            var src = (item && item.source) ? item.source : 'ai';
                                            if (t) {
                                                var formatted = formatExampleWithBold(t);
                                                exampleParts.push(src === 'ai' ? '<span class="ai-generated">' + formatted + '</span>' : formatted);
                                            }
                                        }
                                    }
                                    var exampleContent = exampleParts.length ? exampleParts.join('<br>') : escapeHtml('ì˜ˆë¬¸ ì—†ìŒ');
                                    document.getElementById('example-area').style.display = 'block';
                                    document.getElementById('example-area').innerHTML = '<div class="stage-example">' + exampleContent + '</div>';
                                    document.getElementById('btn-correction').style.display = 'inline-block';
                                });

                                document.getElementById('btn-correction').addEventListener('click', function () {
                                    var cor = (err.correction !== undefined && err.correction !== null) ? String(err.correction) : '';
                                    document.getElementById('correction-area').style.display = 'block';
                                    document.getElementById('correction-area').innerHTML = '<div class="stage-correction">' + escapeHtml(err.error_span || '') + ' â†’ ' + escapeHtml(cor) + '</div>';
                                });
                            }
                            renderRight();
                        });
                    });

                    submitBtn.textContent = 'ë‹¨ì„œ ë„ì°©!';
                    submitBtn.disabled = false;
                } else {
                    rightOutput.innerHTML = escapeHtml('ì˜¤ë¥˜: ' + (result.error || JSON.stringify(result)));
                    submitBtn.textContent = 'ë‹¨ì„œ í™•ì¸í•˜ê¸°';
                    submitBtn.disabled = false;
                }
            } catch (error) {
                rightOutput.innerHTML = escapeHtml('ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜: ' + error.message);
                submitBtn.textContent = 'ë‹¨ì„œ í™•ì¸í•˜ê¸°';
                submitBtn.disabled = false;
            }
        });
    </script>
</body>
</html>
